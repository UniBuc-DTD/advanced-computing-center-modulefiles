#%Module1.0
##
## Python 3.13.9 Modulefile
##

proc ModulesHelp { } {
    puts stderr "\t Loads Python 3.13.9 built from source with optimizations."
    puts stderr "\t Includes pip, setuptools, and shared libraries."
}

module-whatis "Name: Python"
module-whatis "Version: 3.13.9"
module-whatis "Category: programming language"
module-whatis "Description: High-level interpreted programming language."

# Point this to your actual install folder
set root /mnt/modules/software/tools/python/3.13.9

# Prevent loading multiple python versions at once
conflict python

# 1. Add the binaries (python3, pip3) to PATH
prepend-path PATH $root/bin

prepend-path LIBRARY_PATH $root/lib
# 2. Add libraries to LD_LIBRARY_PATH
# Critical because you built with --enable-shared.
# Without this, 'python3' command will fail to find libpython.so.
prepend-path LD_LIBRARY_PATH $root/lib

# 3. Add Manual pages
prepend-path MANPATH $root/share/man

# 4. Add pkg-config (useful if compiling other software against this Python)
prepend-path PKG_CONFIG_PATH $root/lib/pkgconfig

# 5. Add CMake prefix (useful if using CMake to find this Python)
prepend-path CMAKE_PREFIX_PATH $root
